<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuffe Capital Advisors - Alternative Investment Funds (AIF) Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        .chart-container {
            position: relative;
            height: 40vh;
            width: 100%;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-900 nav-link" data-page="home">Cuffe Capital Advisors</a>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#" class="text-gray-600 hover:text-gray-900 nav-link" data-page="finder">AIF Finder</a>
                <a href="#" class="text-gray-600 hover:text-gray-900 nav-link" data-page="about">About Us</a>
                <a href="#" class="text-gray-600 hover:text-gray-900 nav-link" data-page="contact">Contact</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#" class="block py-2 px-4 text-sm hover:bg-gray-100 nav-link" data-page="finder">AIF Finder</a>
            <a href="#" class="block py-2 px-4 text-sm hover:bg-gray-100 nav-link" data-page="about">About Us</a>
            <a href="#" class="block py-2 px-4 text-sm hover:bg-gray-100 nav-link" data-page="contact">Contact</a>
        </div>
    </header>

    <main>
        <!-- Home Page -->
        <div id="page-home" class="page active">
            <section class="bg-white">
                <div class="container mx-auto px-6 py-20 text-center">
                    <h1 class="text-5xl font-bold text-gray-900 mb-4">Unlocking Insights into India's AIF Landscape</h1>
                    <p class="text-lg text-gray-600 mb-8">Data-driven research and proprietary analysis on Alternative Investment Funds.</p>
                    <button class="bg-blue-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 transition duration-300 nav-link" data-page="finder">Explore AIFs Now</button>
                </div>
            </section>
             <section class="py-16">
                <div class="container mx-auto px-6">
                    <div class="grid md:grid-cols-3 gap-8 text-center">
                        <div class="bg-white p-8 rounded-lg shadow">
                            <h3 class="text-xl font-semibold mb-2">Comprehensive Data</h3>
                            <p class="text-gray-600">Access detailed performance metrics, fund manager history, and strategy breakdowns for hundreds of AIFs.</p>
                        </div>
                        <div class="bg-white p-8 rounded-lg shadow">
                            <h3 class="text-xl font-semibold mb-2">Proprietary View</h3>
                            <p class="text-gray-600">Leverage our unique, in-depth analysis and ratings to make informed investment decisions.</p>
                        </div>
                        <div class="bg-white p-8 rounded-lg shadow">
                            <h3 class="text-xl font-semibold mb-2">Powerful Filters</h3>
                            <p class="text-gray-600">Filter and compare funds by returns, strategy, AUM, and more to find the right fit for your portfolio.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- AIF Finder Page -->
        <div id="page-finder" class="page">
            <div class="container mx-auto p-6">
                <h2 class="text-3xl font-bold mb-6">Alternative Investment Fund Finder</h2>
                
                <!-- Filters -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end">
                    <div>
                        <label for="search-text" class="block text-sm font-medium text-gray-700">Search Fund/Manager</label>
                        <input type="text" id="search-text" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="filter-strategy" class="block text-sm font-medium text-gray-700">Strategy</label>
                        <select id="filter-strategy" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                            <option value="All">All Strategies</option>
                            <option value="Long Short">Long Short</option>
                            <option value="Private Equity">Private Equity</option>
                            <option value="Venture Capital">Venture Capital</option>
                            <option value="Real Estate">Real Estate</option>
                        </select>
                    </div>
                    <div>
                        <label for="filter-returns" class="block text-sm font-medium text-gray-700">Min. 1Y Return (%)</label>
                        <input type="number" id="filter-returns" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., 15">
                    </div>
                     <div>
                        <button id="apply-filters" class="w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-blue-700 transition duration-300">Apply Filters</button>
                    </div>
                </div>

                <!-- AIF List -->
                <div id="aif-list" class="space-y-4">
                    <!-- Loading State -->
                     <div id="loader" class="text-center py-10">
                        <p class="text-lg font-semibold">Loading funds...</p>
                     </div>
                </div>
            </div>
        </div>

        <!-- Fund Detail Page -->
        <div id="page-detail" class="page">
            <div class="container mx-auto p-6">
                <button class="mb-6 bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition duration-300 nav-link" data-page="finder">&larr; Back to AIF Finder</button>
                <div id="fund-detail-content">
                    <!-- Dynamic content will be injected here -->
                </div>
            </div>
        </div>
        
        <!-- About Us Page -->
        <div id="page-about" class="page">
             <div class="container mx-auto p-6 py-12">
                <h2 class="text-3xl font-bold mb-4">About Cuffe Capital Advisors</h2>
                <p class="text-lg text-gray-600 leading-relaxed">Cuffe Capital Advisors was founded with a singular mission: to bring transparency, clarity, and data-driven insights to the often opaque world of Alternative Investment Funds in India. Our team of financial analysts and market experts is dedicated to providing investors with the tools and research necessary to navigate the complexities of the AIF landscape and make confident, informed decisions.</p>
            </div>
        </div>

        <!-- Contact Page -->
        <div id="page-contact" class="page">
            <div class="container mx-auto p-6 py-12">
                <h2 class="text-3xl font-bold mb-4">Contact Us</h2>
                <p class="text-lg text-gray-600">For inquiries, partnerships, or to learn more about our services, please reach out to us at <a href="mailto:info@cuffecapital.com" class="text-blue-600 hover:underline">info@cuffecapital.com</a>.</p>
            </div>
        </div>
    </main>
    
    <footer class="bg-white mt-12">
        <div class="container mx-auto px-6 py-4 text-center text-gray-600">
            <p>&copy; 2024 Cuffe Capital Advisors. All Rights Reserved.</p>
        </div>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // ***************************************************************
        // PASTE YOUR FIREBASE CONFIGURATION HERE
        // ***************************************************************
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        // ***************************************************************

        let app;
        let db;
        let allFunds = [];
        let performanceChart = null;

        try {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            console.log("Firebase initialized successfully.");
        } catch (error) {
            console.error("Firebase initialization failed:", error);
            const loader = document.getElementById('loader');
            if (loader) {
                loader.innerHTML = '<p class="text-red-500 font-semibold">Error: Could not connect to the database. Please check the Firebase configuration.</p>';
            }
        }

        // --- Core Page Navigation Logic ---
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            const newPage = document.getElementById(`page-${pageId}`);
            if (newPage) {
                newPage.classList.add('active');
                window.scrollTo(0, 0);
            }
        }
        
        function renderFunds(fundsToRender) {
            const listElement = document.getElementById('aif-list');
            if (!listElement) return;

            listElement.innerHTML = ''; // Clear previous results
            if (fundsToRender.length === 0) {
                listElement.innerHTML = '<p class="text-center text-gray-600 py-10">No funds match your criteria.</p>';
                return;
            }

            fundsToRender.forEach(fund => {
                const fundCard = `
                    <div class="bg-white p-6 rounded-lg shadow-md transition hover:shadow-xl">
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-center">
                            <div class="md:col-span-2">
                                <h3 class="text-xl font-bold text-gray-900">${fund.name}</h3>
                                <p class="text-gray-600">${fund.manager}</p>
                                <span class="inline-block bg-blue-100 text-blue-800 text-xs font-semibold mt-2 px-2.5 py-0.5 rounded-full">${fund.strategy}</span>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-500">1Y Return</p>
                                <p class="text-lg font-semibold">${fund.returns['1y']}%</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-500">3Y Return</p>
                                <p class="text-lg font-semibold">${fund.returns['3y']}%</p>
                            </div>
                            <div class="text-center">
                                <button class="view-details-btn w-full bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg hover:bg-gray-900 transition duration-300" data-id="${fund.id}">View Details</button>
                            </div>
                        </div>
                    </div>
                `;
                listElement.innerHTML += fundCard;
            });
        }
        
        function renderFundDetails(fundId) {
            const fund = allFunds.find(f => f.id === fundId);
            const contentElement = document.getElementById('fund-detail-content');
            if (!fund || !contentElement) return;

            contentElement.innerHTML = `
                <div class="bg-white p-8 rounded-lg shadow-lg">
                    <h2 class="text-3xl font-bold mb-2">${fund.name}</h2>
                    <p class="text-lg text-gray-600 mb-6">Managed by: ${fund.manager}</p>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 text-center">
                        <div><p class="text-sm text-gray-500">Strategy</p><p class="font-semibold">${fund.strategy}</p></div>
                        <div><p class="text-sm text-gray-500">AUM (Cr)</p><p class="font-semibold">₹${fund.aum}</p></div>
                        <div><p class="text-sm text-gray-500">Inception</p><p class="font-semibold">${fund.inception}</p></div>
                        <div><p class="text-sm text-gray-500">Min. Investment (Cr)</p><p class="font-semibold">₹${fund.minInvestment}</p></div>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-xl font-semibold mb-4">Historical Performance vs. Benchmarks</h3>
                        <div class="chart-container">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                             <h3 class="text-xl font-semibold mb-4">Returns (%)</h3>
                            <table class="w-full text-left">
                                <tbody class="divide-y">
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-2 font-medium">1 Year</td><td class="text-right">${fund.returns['1y']}%</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-2 font-medium">3 Years (CAGR)</td><td class="text-right">${fund.returns['3y']}%</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-2 font-medium">5 Years (CAGR)</td><td class="text-right">${fund.returns['5y']}%</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="py-2 font-medium">Since Inception (CAGR)</td><td class="text-right">${fund.returns.si}%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                            <h3 class="text-xl font-semibold mb-3">Cuffe Capital's Proprietary View</h3>
                            <p class="text-gray-700 leading-relaxed">${fund.proprietaryView}</p>
                        </div>
                    </div>
                </div>
            `;
            
            drawChart(fund.performanceData);
        }

        function drawChart(performanceData) {
            const ctx = document.getElementById('performanceChart')?.getContext('2d');
            if (!ctx) return;

            if (performanceChart) {
                performanceChart.destroy();
            }

            performanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: performanceData.labels,
                    datasets: [{
                        label: 'Fund Performance',
                        data: performanceData.fund,
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.1,
                        fill: true,
                    }, {
                        label: 'Benchmark Index',
                        data: performanceData.index,
                        borderColor: 'rgb(107, 114, 128)',
                        borderDash: [5, 5],
                        tension: 0.1,
                    }, {
                        label: 'Comparable Mutual Fund',
                        data: performanceData.mutualFund,
                        borderColor: 'rgb(234, 179, 8)',
                        borderDash: [5, 5],
                        tension: 0.1,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                }
            });
        }

        async function fetchFunds() {
            if (!db) {
                console.log("Firestore database is not available.");
                return;
            }
            const loader = document.getElementById('loader');
            try {
                const querySnapshot = await getDocs(collection(db, "funds"));
                allFunds = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderFunds(allFunds);
            } catch (error) {
                console.error("Error fetching funds:", error);
                if (loader) {
                    loader.innerHTML = '<p class="text-red-500 font-semibold">Could not fetch fund data. Please try again later.</p>';
                }
            }
        }
        
        function applyFilters() {
            const searchText = document.getElementById('search-text').value.toLowerCase();
            const strategy = document.getElementById('filter-strategy').value;
            const minReturn = parseFloat(document.getElementById('filter-returns').value) || 0;

            const filteredFunds = allFunds.filter(fund => {
                const matchesSearch = fund.name.toLowerCase().includes(searchText) || fund.manager.toLowerCase().includes(searchText);
                const matchesStrategy = strategy === 'All' || fund.strategy === strategy;
                const matchesReturn = fund.returns['1y'] >= minReturn;
                return matchesSearch && matchesStrategy && matchesReturn;
            });

            renderFunds(filteredFunds);
        }

        // --- THE FIX: Wait for the DOM to be fully loaded ---
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOM fully loaded and parsed. Initializing app.");
            
            // Initial fetch of data
            fetchFunds();

            // Setup navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = e.currentTarget.dataset.page;
                    showPage(pageId);
                });
            });

            // Setup filter button
            document.getElementById('apply-filters')?.addEventListener('click', applyFilters);

            // Setup dynamic "View Details" buttons
            document.getElementById('aif-list')?.addEventListener('click', (e) => {
                if (e.target && e.target.classList.contains('view-details-btn')) {
                    const fundId = e.target.dataset.id;
                    renderFundDetails(fundId);
                    showPage('detail');
                }
            });

            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton?.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        });

    </script>
</body>
</html>



